#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running tests before push..."
echo ""

# Run unit tests
echo "ğŸ“ Running unit tests..."
pnpm test --passWithNoTests

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Unit tests failed. Please fix the tests before pushing."
  exit 1
fi

echo ""
echo "âœ… Unit tests passed!"
echo ""

# Run e2e tests
echo "ğŸš€ Running E2E tests..."
pnpm test:e2e --passWithNoTests

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ E2E tests failed. Please fix the tests before pushing."
  exit 1
fi

echo ""
echo "âœ… E2E tests passed!"
echo ""
echo "ğŸ‰ All tests passed! Proceeding with push..."

